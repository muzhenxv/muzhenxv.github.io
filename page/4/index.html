<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">


























<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false,"dimmer":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="the Home of MuZhen">
<meta property="og:url" content="http://www.muzhen.tk/page/4/index.html">
<meta property="og:site_name" content="the Home of MuZhen">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="the Home of MuZhen">






  <link rel="canonical" href="http://www.muzhen.tk/page/4/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>the Home of MuZhen</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">the Home of MuZhen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/centos7.4安装机器学习环境/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/centos7.4安装机器学习环境/" class="post-title-link" itemprop="url">centos7.4安装机器学习环境</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>centos+python3的dockerfile， 并且配置中文环境支持</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">yum install wget -y</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /tmp</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> wget https://www.python.org/ftp/python/3.6.1/Python-3.6.1.tgz</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> tar -xzvf Python-3.6.1.tgz -C /tmp</span></span><br><span class="line">yum -y update</span><br><span class="line">yum install yum-plugin-ovl gcc zlib* openssl* mysql mysql-devel mysql-lib gcc-c++ bzip2-devel sqlite-devel bzip2 mesa-libGL-devel -y</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> /tmp/Python-3.6.1</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> ./configure --prefix=/usr/<span class="built_in">local</span> &amp;&amp; make &amp;&amp; make install</span></span><br><span class="line">cd /tmp</span><br><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.1.0-Linux-x86_64.sh</span><br><span class="line">bash Anaconda3-5.1.0-Linux-x86_64.sh -b -p /home/anaconda3</span><br><span class="line">echo 'export PATH="/home/anaconda3/bin:$PATH"' &gt;&gt; ~/.bashrc</span><br><span class="line">source ~/.bashrc</span><br><span class="line">/home/anaconda3/bin/pip install -i https://mirrors.aliyun.com/pypi/simple cmake PyQt5 dill bayesian-optimization category_encoders seaborn graphviz xgboost</span><br></pre></td></tr></table></figure>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> daocloud.io/library/centos:<span class="number">7.2</span>.<span class="number">1511</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install wget -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> wget https://www.python.org/ftp/python/3.6.1/Python-3.6.1.tgz</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> tar -xzvf Python-3.6.1.tgz</span></span><br><span class="line"><span class="comment"># RUN yum -y update</span></span><br><span class="line"><span class="comment"># 用来解决Rpmdb checksum is invalid: dCDPT(pkg checksums) 问题</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum -y install yum-plugin-ovl</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install gcc -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install zlib* -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install openssl* -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install mysql mysql-devel mysql-lib -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install gcc-c++ -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install bzip2-devel -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install sqlite-devel -y</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> ./Python-3.6.1/configure --prefix=/usr/<span class="built_in">local</span> \</span></span><br><span class="line"><span class="bash">&amp;&amp; make\</span></span><br><span class="line"><span class="bash">&amp;&amp; make install</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RUN mkdir -p /workspace/python_file</span></span><br><span class="line"><span class="comment"># COPY test /workspace/python_file</span></span><br><span class="line"><span class="comment">#WORKDIR /home;</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir analyze-server</span></span><br><span class="line"><span class="comment"># add and install requirements.txt</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /analyze-server</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> . /analyze-server</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> ls</span></span><br><span class="line"><span class="comment">#RUN pip3 install --no-index --find-links=/ae-server/packages -r /ae-server/ae-server-requirements.txt</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple -r /analyze-server/analyze-server-requirements.txt</span></span><br><span class="line"><span class="comment"># RUN pip3 install -i https://mirrors.aliyun.com/pypi/simple gensim</span></span><br><span class="line"><span class="comment">#RUN export LD_LIBLABRARY_PATH = /usr/local/cuda-8.0/lib64:$LD_LIBLABRARY_PATH</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8888</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">6006</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> localedef -i en_US -f UTF-8 en_US.UTF-8</span></span><br><span class="line"><span class="keyword">ENV</span> LANG=en_US.UTF-<span class="number">8</span></span><br><span class="line"><span class="comment">#ENTRYPOINT ["python3"]</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"python3"</span>, <span class="string">"manage.py"</span>, <span class="string">"runserver"</span>, <span class="string">"-h"</span>, <span class="string">"0.0.0.0"</span>, <span class="string">"-p"</span>, <span class="string">"5000"</span>]</span></span><br></pre></td></tr></table></figure>
<p>其中，如果出现Rpmdb checksum is invalid: dCDPT(pkg checksums)报错，可以这样解决</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RUN yum -y <span class="keyword">update</span> \</span><br><span class="line">    &amp;&amp; yum -y <span class="keyword">install</span> yum-<span class="keyword">plugin</span>-ovl</span><br></pre></td></tr></table></figure>
<p>参考<a href="https://unix.stackexchange.com/questions/348941/rpmdb-checksum-is-invalid-trying-to-install-gcc-in-a-centos-7-2-docker-image" target="_blank" rel="noopener">Rpmdb checksum is invalid - Trying to install gcc in a CentOS 7.2 docker image</a></p>
<p>centos中文环境支持，<a href="https://github.com/CentOS/sig-cloud-instance-images/issues/71" target="_blank" rel="noopener">Default locale is set to en_US.UTF-8 but it’s missing</a></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">RUN</span> localedef -i en_US -f UTF-8 en_US.UTF-8</span><br><span class="line">ENV <span class="attribute">LANG</span>=en_US.UTF-8</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/docker/" class="post-title-link" itemprop="url">docker</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ubuntu-安装-docker-服务"><a href="#ubuntu-安装-docker-服务" class="headerlink" title="ubuntu 安装 docker 服务"></a>ubuntu 安装 docker 服务</h1><p>docker ce为社区版，docker ee为企业版</p>
<p><a href="https://docs.docker.com/engine/installation/linux/docker-ce/ubuntu/#install-using-the-repository" target="_blank" rel="noopener">Get Docker CE for Ubuntu</a></p>
<h1 id="拉取docker镜像"><a href="#拉取docker镜像" class="headerlink" title="拉取docker镜像"></a>拉取docker镜像</h1><p>国内由于网络原因往往无法直接从docker hub上面拉下来镜像，这时可以在<a href="http://www.daocloud.io/" target="_blank" rel="noopener">daocloud</a>上面寻找相同镜像拉下来。</p>
<h1 id="制作-docker-镜像和容器"><a href="#制作-docker-镜像和容器" class="headerlink" title="制作 docker 镜像和容器"></a>制作 docker 镜像和容器</h1><p>写好dockerfile之后，<code>docker build -t dockername .</code>即可。</p>
<p>具体的dockerfile样例下文提供。</p>
<p>制作好镜像之后<code>docker run --name ae -p 5555:5555 -d ae:latest</code></p>
<p><code>-d</code> 后台运行</p>
<p><code>-p</code> 端口映射</p>
<p><code>--name</code> 制定文件名</p>
<p><code>--env</code> 可以设定环境变量。该参数可以用来将一些宿主机信息比如ip写入docker容器，从而方便docker容器内部从环境变量中拿到宿主机信息。</p>
<p>如果想要查看容器的log，可以<code>docker logs ae</code></p>
<h1 id="docker常用操作"><a href="#docker常用操作" class="headerlink" title="docker常用操作"></a>docker常用操作</h1><p>删除Docker容器， <code>docker rm dockername</code></p>
<p>停止docker容器， <code>docker stop dockername</code></p>
<p>如果想要删除docker镜像，必须先删除有该镜像生成的所有容器，然后 <code>docker rmi dockerimagename</code></p>
<p>查看运行中的docker 容器， <code>docker ps</code></p>
<p>查看包括非运行状态的所有docker容器， <code>docker ps -a</code></p>
<p>停止所有的container， <code>docker stop $(docker ps -a -q)</code></p>
<p>删除所有container， <code>docker rm $(docker ps -a -q)</code></p>
<p>查看images， <code>docker images</code></p>
<p>想要删除untagged images，也就是那些id为<none>的image的话可以用, <code>docker rmi $(docker images | grep &quot;^&lt;none&gt;&quot; | awk &quot;{print $3}&quot;)</code></none></p>
<p>要删除全部image的话, <code>docker rmi $(docker images -q)</code></p>
<h1 id="docker-和宿主机交互操作"><a href="#docker-和宿主机交互操作" class="headerlink" title="docker 和宿主机交互操作"></a>docker 和宿主机交互操作</h1><p>把宿主机文件（夹）复制到docker， <code>docker cp src container_id:dst</code></p>
<p>把docker文件复制到宿主机， <code>docker cp container_id:src dst</code></p>
<p>在容器内获得宿主机公网ip， <code>curl ifconfig.me</code></p>
<p>在容器内获得宿主机私网ip，先将ip写入容器环境变量 <code>docker run --env hostip=‘ip’ docker-id</code>， 然后在容器内部通过读取环境变量来得到hostip信息。如果是python,可以<code>os.environ[&#39;环境变量名称&#39;]</code>来获取环境变量。</p>
<h1 id="inference"><a href="#inference" class="headerlink" title="inference"></a>inference</h1><p><a href="http://www.cnblogs.com/q4486233/p/6482711.html" target="_blank" rel="noopener">Docker 容器镜像删除</a></p>
<p><a href="http://dockone.io/question/441" target="_blank" rel="noopener">如何从容器内部获取主机IP</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/docker for tensorflow/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/docker for tensorflow/" class="post-title-link" itemprop="url">docker for tensorflow</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="nvidia-docker"><a href="#nvidia-docker" class="headerlink" title="nvidia-docker"></a>nvidia-docker</h1><p>需要安装nvidia-docker用于docker和宿主机之间的gpu资源共享</p>
<p><a href="https://github.com/NVIDIA/nvidia-docker" target="_blank" rel="noopener">Docker Engine Utility for NVIDIA GPUs</a> 给出了详细的安装过程。</p>
<p>对于ubuntu，使用如下命令</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget -P <span class="regexp">/tmp https:/</span><span class="regexp">/github.com/</span>NVIDIA<span class="regexp">/nvidia-docker/</span>releases<span class="regexp">/download/</span>v1<span class="number">.0</span><span class="number">.1</span>/nvidia-docker_1<span class="number">.0</span><span class="number">.1</span><span class="number">-1</span>_amd64.deb</span><br><span class="line">sudo dpkg -i <span class="regexp">/tmp/</span>nvidia-docker*.deb &amp;&amp; rm <span class="regexp">/tmp/</span>nvidia-docker*.deb</span><br></pre></td></tr></table></figure>
<p>测试是否安装成功：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvidia-docker <span class="built_in">run</span> <span class="comment">--rm nvidia/cuda nvidia-smi</span></span><br></pre></td></tr></table></figure>
<p>在运行和gpu相关的docker镜像时，把 <code>docker run</code>改成 <code>nvidia-docker run</code>即可。如果报错，可能是plugin没有启动，先后台运行<code>nvidia-docker-plugin</code>。</p>
<h1 id="tenorflow-gpu-docker"><a href="#tenorflow-gpu-docker" class="headerlink" title="tenorflow-gpu docker"></a>tenorflow-gpu docker</h1><p>我选择的镜像是<code>tensorflow/tensorflow:1.2.1-devel-gpu-py3</code></p>
<p>具体的可选择镜像可以看<a href="https://github.com/denverdino/tensorflow-docker" target="_blank" rel="noopener">Tensorflow Docker image with Aliyun mirror</a>。其实不需要专门使用阿里云，我没有找到官方镜像名列表，所以拿这个做个镜像名索引而已。。</p>
<p>如果在run镜像时出现类似这样的报错 <code>An error occurred trying to connect: Get http:///var/run/docker.sock/v1.21/create..container。。EOF</code>，可以采用以下解决方法：</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service docker stop</span><br><span class="line">sudo rm /var/<span class="class"><span class="keyword">lib</span>/<span class="title">docker</span>/<span class="title">network</span>/<span class="title">files</span>/<span class="title">local</span>-<span class="title">kv</span>.<span class="title">db</span></span></span><br><span class="line">service docker start</span><br></pre></td></tr></table></figure>
<p>也需要重启<code>nvidia-docker-plugin</code>，即可解决。 解决方案参考<a href="https://github.com/moby/moby/issues/17846" target="_blank" rel="noopener">An error occurred trying to connect version 1.9.0</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/docker_centos/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/docker_centos/" class="post-title-link" itemprop="url">docker_centos</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>centos+python3的dockerfile， 并且配置中文环境支持</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> daocloud.io/library/centos:<span class="number">7.2</span>.<span class="number">1511</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install wget -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> wget https://www.python.org/ftp/python/3.6.1/Python-3.6.1.tgz</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> tar -xzvf Python-3.6.1.tgz</span></span><br><span class="line"><span class="comment"># RUN yum -y update</span></span><br><span class="line"><span class="comment"># 用来解决Rpmdb checksum is invalid: dCDPT(pkg checksums) 问题</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum -y install yum-plugin-ovl</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install gcc -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install zlib* -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install openssl* -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install mysql mysql-devel mysql-lib -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install gcc-c++ -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install bzip2-devel -y</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yum install sqlite-devel -y</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> ./Python-3.6.1/configure --prefix=/usr/<span class="built_in">local</span> \</span></span><br><span class="line"><span class="bash">&amp;&amp; make\</span></span><br><span class="line"><span class="bash">&amp;&amp; make install</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RUN mkdir -p /workspace/python_file</span></span><br><span class="line"><span class="comment"># COPY test /workspace/python_file</span></span><br><span class="line"><span class="comment">#WORKDIR /home;</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mkdir analyze-server</span></span><br><span class="line"><span class="comment"># add and install requirements.txt</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /analyze-server</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ADD</span><span class="bash"> . /analyze-server</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> ls</span></span><br><span class="line"><span class="comment">#RUN pip3 install --no-index --find-links=/ae-server/packages -r /ae-server/ae-server-requirements.txt</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> pip3 install -i https://mirrors.aliyun.com/pypi/simple -r /analyze-server/analyze-server-requirements.txt</span></span><br><span class="line"><span class="comment"># RUN pip3 install -i https://mirrors.aliyun.com/pypi/simple gensim</span></span><br><span class="line"><span class="comment">#RUN export LD_LIBLABRARY_PATH = /usr/local/cuda-8.0/lib64:$LD_LIBLABRARY_PATH</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">5000</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8888</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">6006</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> localedef -i en_US -f UTF-8 en_US.UTF-8</span></span><br><span class="line"><span class="keyword">ENV</span> LANG=en_US.UTF-<span class="number">8</span></span><br><span class="line"><span class="comment">#ENTRYPOINT ["python3"]</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">"python3"</span>, <span class="string">"manage.py"</span>, <span class="string">"runserver"</span>, <span class="string">"-h"</span>, <span class="string">"0.0.0.0"</span>, <span class="string">"-p"</span>, <span class="string">"5000"</span>]</span></span><br></pre></td></tr></table></figure>
<p>其中，如果出现Rpmdb checksum is invalid: dCDPT(pkg checksums)报错，可以这样解决</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RUN yum -y <span class="keyword">update</span> \</span><br><span class="line">    &amp;&amp; yum -y <span class="keyword">install</span> yum-<span class="keyword">plugin</span>-ovl</span><br></pre></td></tr></table></figure>
<p>参考<a href="https://unix.stackexchange.com/questions/348941/rpmdb-checksum-is-invalid-trying-to-install-gcc-in-a-centos-7-2-docker-image" target="_blank" rel="noopener">Rpmdb checksum is invalid - Trying to install gcc in a CentOS 7.2 docker image</a></p>
<p>centos中文环境支持，<a href="https://github.com/CentOS/sig-cloud-instance-images/issues/71" target="_blank" rel="noopener">Default locale is set to en_US.UTF-8 but it’s missing</a></p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">RUN</span> localedef -i en_US -f UTF-8 en_US.UTF-8</span><br><span class="line">ENV <span class="attribute">LANG</span>=en_US.UTF-8</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/fastdfs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/fastdfs/" class="post-title-link" itemprop="url">fastdfs</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="fastdfs"><a href="#fastdfs" class="headerlink" title="fastdfs"></a>fastdfs</h1><p>因工作需要搭建一个分布式文件系统，用于文件存储。公司的选择是fastdfs。<br>fastdfs上传文件时系统自动指定路径和文件名，因此如果想要传一个文件夹上去。内部的目录结构会被打乱。不会再以完整文件夹形式存储在服务器上。</p>
<p>fastdfs作者有对fastdfs优缺点和问题做过总结，见 <a href="http://bbs.chinaunix.net/thread-1920470-1-1.html" target="_blank" rel="noopener">FastDFS FAQ</a></p>
<h1 id="fastdfs-部署"><a href="#fastdfs-部署" class="headerlink" title="fastdfs 部署"></a>fastdfs 部署</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /<span class="keyword">opt</span> &amp;&amp; <span class="built_in">mkdir</span> fastdfs &amp;&amp; <span class="keyword">cd</span> fastdfs  </span><br><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/happyfish100/fastdfs.git  </span><br><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/happyfish100/libfastcommon.git  </span><br><span class="line"><span class="keyword">cd</span> /<span class="keyword">opt</span>/fastdfs/libfastcommon  </span><br><span class="line">./<span class="keyword">make</span>.<span class="keyword">sh</span> &amp;&amp; ./<span class="keyword">make</span>.<span class="keyword">sh</span> install  </span><br><span class="line"><span class="keyword">cd</span> /<span class="keyword">opt</span>/fastdfs/fastdfs  </span><br><span class="line">./<span class="keyword">make</span>.<span class="keyword">sh</span> &amp;&amp; ./<span class="keyword">make</span>.<span class="keyword">sh</span> install</span><br></pre></td></tr></table></figure>
<p>安装成功后，FastDFS安装在/usr/bin中。配置文件在/etc/fdfs中。</p>
<p>配置文件放在/etc/fdfs下面：</p>
<p>client配置文件：/etc/fdfs/client.conf.sample</p>
<p>storage配置文件：/etc/fdfs/storage.com.sample</p>
<p>tracker配置文件：/etc/fdfs/tracker.com.sample</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/fdfs  </span><br><span class="line">mv client<span class="selector-class">.conf</span><span class="selector-class">.sample</span> client<span class="selector-class">.conf</span>  </span><br><span class="line">mv storage<span class="selector-class">.conf</span><span class="selector-class">.sample</span> storage<span class="selector-class">.conf</span>  </span><br><span class="line">mv tracker<span class="selector-class">.conf</span><span class="selector-class">.sample</span> tracker.conf</span><br></pre></td></tr></table></figure>
<p>如果只是使用python客户端进行文件上传下载操作。应该只需要修改 client.conf 即可。</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">base_path</span>=/etc/fdfs</span><br><span class="line"><span class="attr">tracker_server</span>=node2:<span class="number">22122</span>  </span><br><span class="line"><span class="attr">tracker_server</span>=node3:<span class="number">22122</span></span><br></pre></td></tr></table></figure>
<p>其中tracker_server是master ip。可以只有一个。</p>
<p>具体安装细节参见 <a href="http://blog.csdn.net/lavorange/article/details/50814086" target="_blank" rel="noopener">【FastDFS分布式文件系统之一】：搭建、部署、配置</a></p>
<h1 id="fdfs-client-安装和使用"><a href="#fdfs-client-安装和使用" class="headerlink" title="fdfs_client 安装和使用"></a>fdfs_client 安装和使用</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/jefforeilly/fdfs_client-<span class="keyword">py</span>.git</span><br><span class="line"><span class="keyword">cd</span> fdfs_client-<span class="keyword">py</span></span><br><span class="line"><span class="keyword">vi</span> ./fdfs_client/storage_client.<span class="keyword">py</span></span><br><span class="line">将第<span class="number">12</span>行 from fdfs_client.sendfile import * 注释掉</span><br><span class="line"><span class="keyword">python3</span> setup.<span class="keyword">py</span> install</span><br><span class="line"></span><br><span class="line">sudo pip3 install mutagen</span><br></pre></td></tr></table></figure>
<p>fastdfs python客户端只有python2版本，python3版本需要自己下载源码并且修改代码后安装。</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">from fdfs_client.<span class="keyword">client</span> import * </span><br><span class="line"><span class="keyword">client</span> = Fdfs_client(<span class="string">'/etc/fdfs/client.conf'</span>)</span><br><span class="line"><span class="meta"># upload</span></span><br><span class="line"><span class="keyword">client</span>.upload_by_filename(filename)  </span><br><span class="line"><span class="meta"># download</span></span><br><span class="line"><span class="keyword">client</span>.download_to_file(local_filename, remote_file_id)</span><br></pre></td></tr></table></figure>
<p>其中remote_file_id应该形如<code>group1/M00/00/00/...</code></p>
<p>具体的并行上传操作参见 <a href="http://blog.csdn.net/lavorange/article/details/50829552" target="_blank" rel="noopener">【FastDFS分布式文件系统之二】：FastDFS小文件上传性能测试及Python客户端上传操作</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/flask_uwsgi_nginx部署/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/flask_uwsgi_nginx部署/" class="post-title-link" itemprop="url">flask_uwsgi_nginx部署</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/host-blog-with-hexo-nginx-github/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/host-blog-with-hexo-nginx-github/" class="post-title-link" itemprop="url">host-blog-with-hexo-nginx-github</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="install-dependent-environment"><a href="#install-dependent-environment" class="headerlink" title="install dependent environment"></a>install dependent environment</h1><p>install NodeJS</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yum -y install gcc make gcc-c++ openssl-devel wget</span><br><span class="line">wget http://nodejs.org/dist/v0.<span class="number">10.26</span>/<span class="keyword">node</span><span class="title">-v0</span>.<span class="number">10.26</span>.tar.gz</span><br><span class="line">tar -zvxf <span class="keyword">node</span><span class="title">-v0</span>.<span class="number">10.26</span>.tar.gz</span><br><span class="line">cd <span class="keyword">node</span><span class="title">-v0</span>.<span class="number">10.26</span></span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"><span class="keyword">node</span> <span class="title">-v</span></span><br></pre></td></tr></table></figure>
<h1 id="install-hexo"><a href="#install-hexo" class="headerlink" title="install hexo"></a>install hexo</h1><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo</span><br><span class="line"><span class="built_in">mkdir</span> /<span class="built_in">home</span>/www</span><br><span class="line"><span class="built_in">mkdir</span> /<span class="built_in">home</span>/www/hexo</span><br><span class="line">cd /<span class="built_in">home</span>/www/hexo</span><br><span class="line">hexo init</span><br><span class="line">hexo generate</span><br></pre></td></tr></table></figure>
<p>config hexo<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">vi</span> _<span class="selector-tag">config</span><span class="selector-class">.yml</span></span><br></pre></td></tr></table></figure></p>
<p>change as(<em>must have a space after the “:”</em>):</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration  </span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site 站点信息设置</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">the</span> <span class="string">Home</span> <span class="string">of</span> <span class="string">MuZhen</span> <span class="comment">#站名</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="comment">#副标题</span></span><br><span class="line"><span class="attr">description:</span> <span class="comment">#站描述</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">muzhen</span> <span class="comment">#作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">en</span></span><br><span class="line"><span class="attr">timezone:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL 链接设置</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line"><span class="attr">url:</span> <span class="attr">http://www.muzhen.tk</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory 文件目录</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing 文章</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span> <span class="comment"># File name of new posts</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  line_number:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  auto_detect:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  tab_replace:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format 日期</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="attr">HH:mm:ss</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination 分页</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">20</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions 扩展</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment 这里设置了Git获</span></span><br><span class="line"><span class="comment">#这里一定要注意不要写错了，否则部署到Github上会出问题</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">git@github.com:mocorochio/micorochio.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br><span class="line"><span class="attr">  message:</span></span><br></pre></td></tr></table></figure>
<h1 id="install-nginx"><a href="#install-nginx" class="headerlink" title="install nginx"></a>install nginx</h1><ol>
<li><p>install nginx</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">install</span> nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>configure nginx</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi <span class="regexp">/etc/</span>nginx<span class="regexp">/conf.d/</span><span class="keyword">default</span>.conf</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>change like below:</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span>  www.muzhen.tk muzhen.tk;</span><br><span class="line">    <span class="attribute">root</span>   /home/www/hexo/public;</span><br><span class="line">    <span class="attribute">location</span> / &#123;</span><br><span class="line">        <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="attribute">include</span> /etc/nginx/default.d/<span class="regexp">*.conf</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>use your domain replace <em><a href="http://www.muzhen.tk">www.muzhen.tk</a> muzhen.tk</em></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service nginx <span class="built_in">start</span></span><br><span class="line">chkconfig nginx <span class="keyword">on</span></span><br></pre></td></tr></table></figure>
<h1 id="deploy-git"><a href="#deploy-git" class="headerlink" title="deploy git"></a>deploy git</h1><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install git </span><br><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"your_name"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"your_email"</span></span><br><span class="line">git<span class="built_in"> config </span>--list</span><br><span class="line"></span><br><span class="line"><span class="comment"># checking for existing SSH keys</span></span><br><span class="line">ls -al ~/.ssh</span><br><span class="line"><span class="comment"># if not,generate a new SSH key</span></span><br><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">"your_email"</span></span><br><span class="line"><span class="comment"># type Enter for following options</span></span><br></pre></td></tr></table></figure>
<p>create a new repository.It’s name must be your_name.github.io.Then add vps SSH key to <a href="https://github.com/settings/keys" target="_blank" rel="noopener">github SSH keys</a>.<br>vps SSH key can find use code below:<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">less ~<span class="regexp">/.ssh/i</span>d_rsa.pub</span><br></pre></td></tr></table></figure></p>
<p>Then type<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">-T</span> <span class="selector-tag">git</span>@<span class="keyword">github</span>.<span class="keyword">com</span></span><br></pre></td></tr></table></figure></p>
<p>If show content below,you are successful.</p>
<blockquote>
<p>Hi username! You’ve successfully authenticated, but GitHub does notprovide shell access.</p>
</blockquote>
<p>Then use codes<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure></p>
<p>if has error like this</p>
<blockquote>
<p>Error deployer not found: git</p>
</blockquote>
<p>please run<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure></p>
<h1 id="modify-theme"><a href="#modify-theme" class="headerlink" title="modify theme"></a>modify theme</h1><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> /home/www/hexo</span><br><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br><span class="line"><span class="keyword">vi</span> _config.yml</span><br><span class="line"># <span class="keyword">change</span> theme: landscape <span class="keyword">to</span> theme: <span class="keyword">next</span></span><br></pre></td></tr></table></figure>
<h1 id="configure-markdown"><a href="#configure-markdown" class="headerlink" title="configure markdown"></a>configure markdown</h1><p>configure markdown to address the conflict between markdown and latex.</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~<span class="regexp">/hexo_blog/node</span>_modules/marked/<span class="class"><span class="keyword">lib</span></span></span><br><span class="line">sudo vim marked.js</span><br></pre></td></tr></table></figure>
<p>replace </p>
<blockquote>
<p>escape: /^\(<a href>\`*{}[\</a># +-.!_&gt;])/,</p>
</blockquote>
<p>to </p>
<blockquote>
<p>escape: /^\(<a href>`*[\</a># +-.!_&gt;])/,</p>
</blockquote>
<p>replace </p>
<blockquote>
<p>em: /^\b_((?:[^_]|__)+?)_\b|^*((?:**|[\s\S])+?)*(?!*)/,</p>
</blockquote>
<p>to</p>
<blockquote>
<p>em:/^*((?:**|[\s\S])+?)*(?!*)/,</p>
</blockquote>
<p>finally </p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo g</span></span><br></pre></td></tr></table></figure>
<h1 id="optimization"><a href="#optimization" class="headerlink" title="optimization"></a>optimization</h1><p>You can find related ways from <strong>references</strong></p>
<p>#install dropbox </p>
<ol>
<li><p>create a new user account</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">adduser </span>dbox</span><br><span class="line">passwd dbox</span><br><span class="line"><span class="comment"># print passwd</span></span><br><span class="line">su -l dbox</span><br></pre></td></tr></table></figure>
</li>
<li><p>install dropbox</p>
</li>
</ol>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># download dropbox</span></span><br><span class="line"><span class="comment">## 32bit</span></span><br><span class="line"><span class="keyword">cd</span> ~ &amp;&amp; wget -O - <span class="string">"https://www.dropbox.com/download?plat=lnx.x86"</span> | tar xzf -</span><br><span class="line"><span class="comment">## 64bit</span></span><br><span class="line"><span class="keyword">cd</span> ~ &amp;&amp; wget -O - <span class="string">"https://www.dropbox.com/download?plat=lnx.x86_64"</span> | tar xzf -</span><br><span class="line">~<span class="string">/.dropbox-dist/dropboxd</span></span><br><span class="line"><span class="comment"># copy link to chrome and valid</span></span><br><span class="line">wget https:<span class="string">//www.dropbox.com/download</span>?dl=packages/dropbox.py</span><br><span class="line"><span class="comment"># maybe the name of py is not dropbox.py,you only need operate the .py file regardless of its name.</span></span><br><span class="line">chmod +x <span class="string">./dropbox.py</span></span><br><span class="line">~<span class="string">/dropbox.py</span> <span class="keyword">help</span></span><br><span class="line"><span class="comment"># view state</span></span><br><span class="line">~<span class="string">/dropbox.py</span> status</span><br><span class="line"><span class="comment"># start sync</span></span><br><span class="line">~<span class="string">/dropbox.py</span> start</span><br><span class="line"><span class="keyword">cd</span> Dropbox</span><br><span class="line"><span class="comment"># exclude dir which don't need to sync</span></span><br><span class="line">~<span class="string">/dropboxy.py</span> exclude add dirname1 dirname2</span><br><span class="line"><span class="comment"># link the outside folder to the Dropbox folder for syncing</span></span><br><span class="line">ln -s <span class="string">/path/to/desired-folder</span> ~<span class="string">/Dropbox/desired-folder</span></span><br></pre></td></tr></table></figure>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="http://renfuheng.com/2016/08/28/%E5%BF%AB%E9%80%9F%E5%9C%A8vps-centOs-6-%E4%B8%8A%E6%90%AD%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2%E5%B9%B6push%E4%B8%80%E4%BB%BD%E5%88%B0github/" target="_blank" rel="noopener">install hexo</a></p>
<p><a href="http://www.jianshu.com/p/0823e387c019" target="_blank" rel="noopener">install git</a></p>
<p><a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">theme next</a></p>
<p><a href="http://www.jianshu.com/p/393d067dba8d" target="_blank" rel="noopener">next theme set preview</a></p>
<p><a href="http://www.wuxubj.cn/2016/08/Hexo-nexT-build-personal-blog/" target="_blank" rel="noopener">add search engine</a></p>
<p><a href="http://www.jianshu.com/p/5d5931289c09" target="_blank" rel="noopener">optimization</a></p>
<p><a href="https://blog.imfer.me/#!/post/2014-04-25-centos-install-dropbox" target="_blank" rel="noopener">install dropbox</a></p>
<p><a href="http://blog.csdn.net/emptyset110/article/details/50123231" target="_blank" rel="noopener">搭建一个支持LaTEX的hexo博客</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/host_blog_on_ubuntu16.04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/host_blog_on_ubuntu16.04/" class="post-title-link" itemprop="url">host_blog_on_ubuntu16.04</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Step-1-—-Installing-and-Initializing-Hexo"><a href="#Step-1-—-Installing-and-Initializing-Hexo" class="headerlink" title="Step 1 — Installing and Initializing Hexo"></a>Step 1 — Installing and Initializing Hexo</h1><p>先要安装nodejs和npm，需要注意版本，如果是低版本后面hexo命令很可能报错<a href="https://websiteforstudents.com/install-the-latest-node-js-and-nmp-packages-on-ubuntu-16-04-18-04-lts/" target="_blank" rel="noopener">Install The Latest Node.Js And NPM Packages On Ubuntu 16.04 / 18.04 LTS</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Step 1: Add Node.Js PPA</span></span><br><span class="line">apt install curl</span><br><span class="line"><span class="meta">#</span><span class="bash"> There are two repositories you can install… one repository contains the latest Node.js packages and the other has the LTS or (Long Term Support) packages…. <span class="keyword">if</span> you need the latest and greatest, <span class="keyword">then</span> install the first repository…</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> On the other hand, <span class="keyword">if</span> you need a more stable and tested Node.js packages, <span class="keyword">then</span> install the LTS repository….</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Then for the Latest release, add this PPA..</span></span></span><br><span class="line">curl -sL https://deb.nodesource.com/setup_10.x | sudo bash -</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># To install the LTS release, use this PPA</span></span></span><br><span class="line">curl -sL https://deb.nodesource.com/setup_8.x | sudo bash -</span><br><span class="line"><span class="meta">#</span><span class="bash"> Step 2: Install Node.Js And NPM</span></span><br><span class="line">apt install nodejs</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p>安装hexo</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install hexo-server -g</span><br><span class="line">hexo init ~/hexo_blog</span><br></pre></td></tr></table></figure>
<p>If <code>hexo init ~/hexo_blog</code> get error <code>/usr/bin/env: ‘node’: No such file or directory</code>, fixed by</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/bin/nodejs /usr/bin/node</span><br></pre></td></tr></table></figure>
<p>then</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/hexo_blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p>use</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>
<p>测试hexo功能是否正常</p>
<h1 id="Step-2-—-Setting-Up-Hexo’s-Main-Configuration-File"><a href="#Step-2-—-Setting-Up-Hexo’s-Main-Configuration-File" class="headerlink" title="Step 2 — Setting Up Hexo’s Main Configuration File"></a>Step 2 — Setting Up Hexo’s Main Configuration File</h1><p>config hexo</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">vi</span> _<span class="selector-tag">config</span><span class="selector-class">.yml</span></span><br></pre></td></tr></table></figure>
<p>change as(<em>must have a space after the “:”</em>):</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Hexo Configuration  </span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Docs: https://hexo.io/docs/configuration.html</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Source: https://github.com/hexojs/hexo/</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Site 站点信息设置</span></span><br><span class="line">title: the Home of MuZhen #站名</span><br><span class="line">subtitle: #副标题</span><br><span class="line">description: #站描述</span><br><span class="line">author: muzhen #作者</span><br><span class="line">language: en</span><br><span class="line">timezone:</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> URL 链接设置</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span></span><br><span class="line">url: http://www.muzhen.tk</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Directory 文件目录</span></span><br><span class="line">source_dir: source</span><br><span class="line">public_dir: public</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line">i18n_dir: :lang</span><br><span class="line">skip_render:</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Writing 文章</span></span><br><span class="line">new_post_name: :title.md # File name of new posts</span><br><span class="line">default_layout: post</span><br><span class="line">titlecase: false # Transform title into titlecase</span><br><span class="line">external_link: true # Open external links in new tab</span><br><span class="line">filename_case: 0</span><br><span class="line">render_drafts: false</span><br><span class="line">post_asset_folder: false</span><br><span class="line">relative_link: false</span><br><span class="line">future: true</span><br><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line">  auto_detect: true</span><br><span class="line">  tab_replace:</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Category &amp; Tag</span></span><br><span class="line">default_category: uncategorized</span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Date / Time format 日期</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Hexo uses Moment.js to parse and display date</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># You can customize the date format as defined in</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># http://momentjs.com/docs/#/displaying/format/</span></span></span><br><span class="line">date_format: YYYY-MM-DD</span><br><span class="line">time_format: HH:mm:ss</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Pagination 分页</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Set per_page to 0 to disable pagination</span></span></span><br><span class="line">per_page: 20</span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Extensions 扩展</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Plugins: https://hexo.io/plugins/</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Themes: https://hexo.io/themes/</span></span></span><br><span class="line">theme: landscape</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Deployment 这里设置了Git获</span></span><br><span class="line"><span class="meta">#</span><span class="bash">这里一定要注意不要写错了，否则部署到Github上会出问题</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Docs: https://hexo.io/docs/deployment.html</span></span></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:mocorochio/micorochio.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">  message:</span><br></pre></td></tr></table></figure>
<h1 id="Step3-install-nginx"><a href="#Step3-install-nginx" class="headerlink" title="Step3-install nginx"></a>Step3-install nginx</h1><ol>
<li><p>install nginx</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure>
</li>
<li><p>configure nginx</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/nginx/conf.d/default.conf</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>change like below:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen       80;</span><br><span class="line">    server_name  www.muzhen.tk muzhen.tk;</span><br><span class="line">    root   /home/www/hexo/public;</span><br><span class="line">    location / &#123;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line">     include /etc/nginx/default.d/*.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>use your domain replace <em><a href="http://www.muzhen.tk">www.muzhen.tk</a> muzhen.tk</em></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">service nginx start</span><br><span class="line"><span class="meta">#</span><span class="bash"> hexo部署更新</span></span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<p>如果访问blog页面出现403错误，可能是nginx user配置问题, <a href="https://blog.csdn.net/onlysunnyboy/article/details/75270533" target="_blank" rel="noopener">解决Nginx出现403 forbidden (13: Permission denied)报错的四种方法</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/nginx/nginx.conf</span><br><span class="line">​</span><br></pre></td></tr></table></figure>
<p>comment first line: user /data/www;<br>add line: user root;<br>​<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx <span class="literal">start</span></span><br></pre></td></tr></table></figure></p>
<h1 id="Step4-important-configure-markdown"><a href="#Step4-important-configure-markdown" class="headerlink" title="Step4-important! configure markdown"></a>Step4-<strong>important!</strong> configure markdown</h1><p><strong><em>这里的配置不仅仅是可以支持latex的问题，还可以避免由于\{\{\}\}导致的hexo g报错Template render error</em></strong></p>
<p>configure markdown to address the conflict between markdown and latex.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/www/hexo/node_modules/hexo-renderer-marked/node_modules/marked/lib</span><br><span class="line">sudo vim marked.js</span><br></pre></td></tr></table></figure>
<p>replace </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">escape: /^\\([<span class="string">\\`*&#123;&#125;\[\</span>](<span class="link"></span>)# +\-.!_&gt;])/,</span><br></pre></td></tr></table></figure>
<p>to </p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">escape: /^\\([<span class="string">`*\[\</span>](<span class="link"></span>)# +\-.!_&gt;])/,</span><br></pre></td></tr></table></figure>
<p>replace </p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">em: /^<span class="symbol">\b</span>_((?:[^_]|__)+?)_<span class="symbol">\b</span>|^<span class="symbol">\*</span>((?:<span class="symbol">\*</span><span class="symbol">\*</span>|[<span class="symbol">\s</span><span class="symbol">\S</span>])+?)<span class="symbol">\*</span>(?!<span class="symbol">\*</span>)/,</span><br></pre></td></tr></table></figure>
<p>to</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">em: /^<span class="symbol">\*</span>((?:<span class="symbol">\*</span><span class="symbol">\*</span>|[<span class="symbol">\s</span><span class="symbol">\S</span>])+?)<span class="symbol">\*</span>(?!<span class="symbol">\*</span>)/,</span><br></pre></td></tr></table></figure>
<p>finally </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure>
<p>但是在尝试hexo-math或者hexo-render-mathjax之后，在latex支持上没有生效。</p>
<p>最终的解决方案是利用主题来实现latex支持。具体操作见下一步。</p>
<h1 id="Step5-modify-theme并进行latex支持"><a href="#Step5-modify-theme并进行latex支持" class="headerlink" title="Step5-modify theme并进行latex支持"></a>Step5-modify theme并进行latex支持</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apt install git</span><br><span class="line">cd ~/hexo_blog</span><br><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line">vi _config.yml</span><br><span class="line"><span class="meta">#</span><span class="bash"> change theme: landscape to theme: next</span></span><br><span class="line">cd themes/next</span><br><span class="line">vim _config.yml</span><br><span class="line"><span class="meta">#</span><span class="bash"> change mathjax <span class="built_in">enable</span> from <span class="literal">false</span> to <span class="literal">true</span></span></span><br></pre></td></tr></table></figure>
<h1 id="Step6-使用dropbox进行本地blog文件与服务器同步"><a href="#Step6-使用dropbox进行本地blog文件与服务器同步" class="headerlink" title="Step6-使用dropbox进行本地blog文件与服务器同步"></a>Step6-使用dropbox进行本地blog文件与服务器同步</h1><h2 id="1-install-dropbox"><a href="#1-install-dropbox" class="headerlink" title="1. install dropbox"></a>1. install dropbox</h2><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># download dropbox</span></span><br><span class="line"><span class="comment">## 32bit</span></span><br><span class="line"><span class="keyword">cd</span> ~ &amp;&amp; wget -O - <span class="string">"https://www.dropbox.com/download?plat=lnx.x86"</span> | tar xzf -</span><br><span class="line"><span class="comment">## 64bit</span></span><br><span class="line"><span class="keyword">cd</span> ~ &amp;&amp; wget -O - <span class="string">"https://www.dropbox.com/download?plat=lnx.x86_64"</span> | tar xzf -</span><br><span class="line">~<span class="string">/.dropbox-dist/dropboxd</span></span><br><span class="line"><span class="comment"># copy link to chrome and valid</span></span><br><span class="line">wget https:<span class="string">//www.dropbox.com/download</span>?dl=packages/dropbox.py</span><br><span class="line"><span class="comment"># maybe the name of py is not dropbox.py,you only need operate the .py file regardless of its name.</span></span><br><span class="line">chmod +x <span class="string">./dropbox.py</span></span><br><span class="line">~<span class="string">/dropbox.py</span> <span class="keyword">help</span></span><br><span class="line"><span class="comment"># view state</span></span><br><span class="line">~<span class="string">/dropbox.py</span> status</span><br><span class="line"><span class="comment"># start sync</span></span><br><span class="line">~<span class="string">/dropbox.py</span> start</span><br><span class="line"><span class="keyword">cd</span> Dropbox</span><br><span class="line"><span class="comment"># exclude dir which don't need to sync</span></span><br><span class="line">~<span class="string">/dropboxy.py</span> exclude add dirname1 dirname2</span><br></pre></td></tr></table></figure>
<h2 id="2-建立blog文件链接"><a href="#2-建立blog文件链接" class="headerlink" title="2. 建立blog文件链接"></a>2. 建立blog文件链接</h2><p>dropbox中需要有一个文件夹为_posts,里面放置符合blog格式的markdown文件，建立该文件夹与hexo下对应blog文件存放地址的链接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 先删除文件夹，不然待会软连接会报错</span></span><br><span class="line">rm -rf /root/hexo_blog/source/_posts</span><br><span class="line"><span class="meta">#</span><span class="bash"> 建立软连接，必须用绝对路径，不然内部结构无法链接成功</span></span><br><span class="line">ln -s /root/Dropbox/_posts/ /root/hexo_blog/source/</span><br></pre></td></tr></table></figure>
<p>至此，blog就建立完成了。至于github托管可以参见references或者我的另外一篇博客《host-blog-with-hexo-nginx-github》。</p>
<h1 id="可能遇到的问题"><a href="#可能遇到的问题" class="headerlink" title="可能遇到的问题"></a>可能遇到的问题</h1><ol>
<li>nodejs版本过低导致的问题</li>
<li>vps内存不够导致hexo g失败。解决方案是增加或拓展swap分区</li>
</ol>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="http://renfuheng.com/2016/08/28/%E5%BF%AB%E9%80%9F%E5%9C%A8vps-centOs-6-%E4%B8%8A%E6%90%AD%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2%E5%B9%B6push%E4%B8%80%E4%BB%BD%E5%88%B0github/" target="_blank" rel="noopener">install hexo</a></p>
<p><a href="http://www.jianshu.com/p/0823e387c019" target="_blank" rel="noopener">install git</a></p>
<p><a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">theme next</a></p>
<p><a href="http://www.jianshu.com/p/393d067dba8d" target="_blank" rel="noopener">next theme set preview</a></p>
<p><a href="http://www.wuxubj.cn/2016/08/Hexo-nexT-build-personal-blog/" target="_blank" rel="noopener">add search engine</a></p>
<p><a href="http://www.jianshu.com/p/5d5931289c09" target="_blank" rel="noopener">optimization</a></p>
<p><a href="https://blog.imfer.me/#!/post/2014-04-25-centos-install-dropbox" target="_blank" rel="noopener">install dropbox</a></p>
<p><a href="http://blog.csdn.net/emptyset110/article/details/50123231" target="_blank" rel="noopener">搭建一个支持LaTEX的hexo博客</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/install nodejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/install nodejs/" class="post-title-link" itemprop="url">install nodejs</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>安装nodejs环境。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> ~</span><br><span class="line">curl -sL http<span class="variable">s:</span>//<span class="keyword">deb</span>.nodesource.<span class="keyword">com</span>/setup_6.<span class="keyword">x</span> -<span class="keyword">o</span> nodesource_setup.<span class="keyword">sh</span></span><br><span class="line">sudo bash nodesource_setup.<span class="keyword">sh</span></span><br><span class="line">sudo apt-<span class="built_in">get</span> install nodejs</span><br><span class="line">sudo apt-<span class="built_in">get</span> install build-essential</span><br></pre></td></tr></table></figure>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-16-04" target="_blank" rel="noopener">How To Install Node.js on Ubuntu 16.04</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/install ubuntu16.04 on xiaomi AIr/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/install ubuntu16.04 on xiaomi AIr/" class="post-title-link" itemprop="url">install ubuntu16.04 on xiaomi AIr</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="hardware-environment"><a href="#hardware-environment" class="headerlink" title="hardware environment"></a>hardware environment</h1><p>13.3寸小米笔记本，20176月版，i5-7200u，mx150,8g，256g，指纹识别。</p>
<h1 id="install-ubuntu16-04"><a href="#install-ubuntu16-04" class="headerlink" title="install ubuntu16.04"></a>install ubuntu16.04</h1><p>首先正常安装。有教程提到需要进bios关闭secure boot，我因为是直接装的ubuntu单系统，不存在这个问题。</p>
<p>安装好后，发现如下问题：</p>
<ol>
<li>无线网不能用</li>
<li>蓝牙不能用</li>
<li>指纹识别不能用</li>
<li>双显卡驱动</li>
<li>电池只能支撑4h左右（看视频，文本编辑）</li>
<li>触摸板无法快捷键关闭</li>
</ol>
<p>解决方案如下：</p>
<h2 id="无线网"><a href="#无线网" class="headerlink" title="无线网"></a>无线网</h2><p>编辑blacklist.conf文件：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="keyword">vi</span> /etc/modprobe.d/blacklist.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure>
<p>在文件最后加上<code>blacklist acer-wmi</code>，重启即可。</p>
<h2 id="蓝牙"><a href="#蓝牙" class="headerlink" title="蓝牙"></a>蓝牙</h2><p>使用如下命令即可：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="regexp">//mi</span>rrors.kernel.org<span class="regexp">/ubuntu/</span>pool<span class="regexp">/main/</span>l<span class="regexp">/linux-firmware/</span>linux-firmware_1.<span class="number">161.1</span>_all.deb</span><br><span class="line">sudo dpkg -i linux-firmware_1.<span class="number">161.1</span>_all.deb</span><br></pre></td></tr></table></figure>
<p>参考<a href="https://askubuntu.com/questions/881239/bluetooth-not-working-on-xps-13-9360-running-16-04-1" target="_blank" rel="noopener">Bluetooth not working on XPS 13 9360 running 16.04.1</a></p>
<h2 id="指纹识别"><a href="#指纹识别" class="headerlink" title="指纹识别"></a>指纹识别</h2><p>暂未解决</p>
<h2 id="双显卡驱动"><a href="#双显卡驱动" class="headerlink" title="双显卡驱动"></a>双显卡驱动</h2><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装nvidia驱动</span></span><br><span class="line">sudo<span class="built_in"> add-apt-repository </span>ppa:graphics-drivers/ppa</span><br><span class="line">sudo apt-get update </span><br><span class="line">sudo apt-get install nvidia-384</span><br><span class="line"><span class="comment"># 安装双显卡驱动工具</span></span><br><span class="line">sudo apt-get install nvidia-prime</span><br></pre></td></tr></table></figure>
<p>安装好后启动<code>nvidia x-server settings</code> 切换显卡后注销即可。建议使用核显。</p>
<p>参考<a href="http://www.linuxidc.com/Linux/2016-05/131553.htm" target="_blank" rel="noopener">为Ubuntu 16.04安装Nvidia驱动解决笔记本发热风扇狂转等问题</a></p>
<p>我没有使用参考教程中的ppa仓库，安装好后，并没有在系统托盘中出现nvidia-logo图标。可以使用教程中仓库尝试。</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo<span class="built_in"> add-apt-repository </span>ppa:mamarley/nvidia</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install nvidia-384 nvidia-prime</span><br></pre></td></tr></table></figure>
<h2 id="电池耗电"><a href="#电池耗电" class="headerlink" title="电池耗电"></a>电池耗电</h2><p>还没有试过只敲代码情况下的电池耐用情况，用过后补充说明。目前来看不够持久，也达不到官方8h标准。</p>
<h2 id="触摸板无法快捷键关闭"><a href="#触摸板无法快捷键关闭" class="headerlink" title="触摸板无法快捷键关闭"></a>触摸板无法快捷键关闭</h2><p>首先，该版本笔记本好像本身就没有提供触摸板快捷键，并非系统问题。</p>
<p>解决方法为自设快捷键。参考<a href="http://blog.csdn.net/hchhbbcxl/article/details/77542975" target="_blank" rel="noopener">小米笔记本12.5英寸装ubuntu后设置快捷键开启和关闭触摸板</a></p>
<ol>
<li><p>使用xinput命令查看设备，并找到触摸板对应设备名称和ID。一般其中带有touchpad单词。注意即使关掉触摸板后指针也无法隐去（我尝试过关闭pointer设备，无效）。具体可以用<code>xinput set-prop （id号） &quot;Device Enabled&quot; 0</code>命令去一个个试出来触摸板对应的id。</p>
</li>
<li><p>编写shell脚本进行操作。</p>
</li>
</ol>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="string">t1=</span>$(<span class="string">xinput </span>| <span class="string">grep </span>‘<span class="string">decive_name’</span>)</span><br><span class="line"><span class="string">t2=</span>$(<span class="string">echo </span>$<span class="string">t1 </span>| <span class="string">sed </span><span class="string">'s/ /\n/g'</span> | <span class="string">grep </span><span class="string">"id"</span>)</span><br><span class="line"><span class="string">res=</span>$&#123;<span class="string">t2#</span><span class="string">"id="</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">var=</span>$(<span class="string">xinput </span><span class="built_in">list-props</span> $<span class="string">res </span>| <span class="string">grep </span><span class="string">"Device Enabled"</span>)</span><br><span class="line"><span class="string">resultv=</span>$&#123;<span class="string">var:</span>(($&#123;<span class="comment">#var&#125;-1))&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">if </span>[ $<span class="string">resultv </span>-<span class="string">eq </span>1 ];<span class="string">then</span></span><br><span class="line"><span class="string">xinput </span><span class="built_in">set-prop</span> $<span class="string">res </span><span class="string">"Device Enabled"</span> 0</span><br><span class="line"><span class="string">else</span></span><br><span class="line"><span class="string">xinput </span><span class="built_in">set-prop</span> $<span class="string">res </span><span class="string">"Device Enabled"</span> 1</span><br><span class="line"><span class="string">fi</span></span><br></pre></td></tr></table></figure>
<p>其中，device_name使用设备名称去匹配，不能用id匹配。</p>
<p>将该shell脚本取名为padchange，放到/bin目录下。</p>
<p>在System Setting-&gt;Keyboard-&gt;Shortcuts中设置该脚本的启动快捷键。该脚本的启动命令为’/bin/padchange’。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/jdk/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/jdk/" class="post-title-link" itemprop="url">jdk</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="install-jdk"><a href="#install-jdk" class="headerlink" title="install jdk"></a>install jdk</h1><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo<span class="built_in"> add-apt-repository </span>ppa:webupd8team/java</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install oracle-java8-installer</span><br><span class="line"><span class="comment"># check the java version</span></span><br><span class="line">javac -version</span><br><span class="line"><span class="comment"># set java environment variables</span></span><br><span class="line">sudo apt install oracle-java8-set-default</span><br></pre></td></tr></table></figure>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="http://tipsonubuntu.com/2016/07/31/install-oracle-java-8-9-ubuntu-16-04-linux-mint-18/" target="_blank" rel="noopener">Install Oracle Java 8 / 9 in Ubuntu 16.04, Linux Mint 18</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/jetbrains softwares破解方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/jetbrains softwares破解方法/" class="post-title-link" itemprop="url">jetbrains softwares破解方法</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="搭建本地服务器进行破解"><a href="#搭建本地服务器进行破解" class="headerlink" title="搭建本地服务器进行破解"></a>搭建本地服务器进行破解</h1><p><a href="http://blog.lanyus.com/archives/174.html" target="_blank" rel="noopener">搭建文件下载地址</a></p>
<p>直接后台run对应版本的文件，比如</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/path_to_file/</span>IntelliJIDEALicenseServer_linux_amd64</span><br></pre></td></tr></table></figure>
<p>设为开机自启动更加方便</p>
<p>然后打开软件，进行注册。具体的端口号视所使用文件版本而定。在运行以上文件后输出内容中就包含端口号。</p>
<p><img src="http://omdhuynsr.bkt.clouddn.com/17-9-3/53896227.jpg" alt></p>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="http://idea.lanyus.com/" target="_blank" rel="noopener">IntelliJ IDEA 注册码</a></p>
<p><a href="http://blog.lanyus.com/archives/174.html" target="_blank" rel="noopener">IntelliJ IDEA License Server本地搭建教程</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/jupyter插件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/jupyter插件/" class="post-title-link" itemprop="url">jupyter插件</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>安装jupyter扩展，从而可以使用一些小功能。</p>
<h1 id="安装方法"><a href="#安装方法" class="headerlink" title="安装方法"></a>安装方法</h1><p>用conda安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda install -c conda-forge jupyter_contrib_nbextensions</span><br><span class="line">conda install -c conda-forge jupyter_nbextensions_configurator</span><br></pre></td></tr></table></figure>
<p>或者用pip：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyter_nbextensions_configurator jupyter_contrib_nbextensions</span><br><span class="line">jupyter contrib nbextension install --user</span><br><span class="line">jupyter nbextensions_configurator enable --user</span><br></pre></td></tr></table></figure>
<p>安装好后在home页有一个Nbextensions选项卡，点进去后就可以勾选想要的插件功能。</p>
<h1 id="好用的插件"><a href="#好用的插件" class="headerlink" title="好用的插件"></a>好用的插件</h1><ol>
<li>Table of Contents： 目录</li>
<li>zenmode：切换jupyter背景</li>
<li>Codefolding：代码折叠</li>
<li>Collapsible Headings：目录折叠</li>
<li>其他：比如高亮选中单词（Highlight selected word），着色(highlighter)，显示执行时间（ExecuteTime），代码格式化（autopep8，需要安装autopep8包）之类</li>
</ol>
<h1 id="magic方法"><a href="#magic方法" class="headerlink" title="magic方法"></a>magic方法</h1><ol>
<li><p>%debug：出错后直接建一个cell打<code>%debug</code>，就可以进入debug模式</p>
</li>
<li><p>tqdm_notebook： </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tqdm <span class="keyword">import</span> tnrange, tqdm_notebook</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> tqdm_notebook(range(<span class="number">4</span>), desc=<span class="string">'1st loop'</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> tqdm_notebook(range(<span class="number">100</span>), desc=<span class="string">'2nd loop'</span>, leave=<span class="keyword">False</span>):</span><br><span class="line">        sleep(<span class="number">0.01</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="https://mp.weixin.qq.com/s?__biz=MzI3ODkxODU3Mg%3D%3D&amp;mid=2247485697&amp;idx=2&amp;sn=cfd494920bc59c62e192ee475bc01b9d&amp;chksm=eb4eedc2dc3964d40a6df962cde5fdfc6ccd2cbb88c423b24d479754b992e5430cdeebea9da4" target="_blank" rel="noopener">Top 5：五大最实用的Jupyter Notebook扩展插件</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/markdown下latex用法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/markdown下latex用法/" class="post-title-link" itemprop="url">markdown下latex用法</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script></p>
<h1 id="使用环境"><a href="#使用环境" class="headerlink" title="使用环境"></a>使用环境</h1><p>我使用的是vscode，直接在markdown中安装markdown+math插件，md文档开头需要添加MathJax引擎,否则一些相关语句markdown+math并不支持：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>行内公式 $…$</p>
</li>
<li><p>行间公式,需要另起一行方可<br>$$…$$</p>
</li>
<li><p>公式换行、对齐</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">\<span class="keyword">begin</span>&#123;<span class="keyword">split</span>&#125; ... &amp;&amp;= ...\<span class="keyword">newline</span></span><br><span class="line">&amp;&amp;= ... \<span class="keyword">newline</span></span><br><span class="line">&amp;&amp;= ... \<span class="keyword">end</span>&#123;<span class="keyword">split</span>&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>公式换行编号</p>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">begin</span><span class="string">&#123;eqnarray*&#125;</span></span> ... &amp;&amp;= ... <span class="tag">\<span class="name">tag</span><span class="string">&#123;1&#125;</span></span> <span class="tag">\<span class="name">newline</span></span></span><br><span class="line">&amp;&amp;= ... <span class="tag">\<span class="name">tag</span><span class="string">&#123;2&#125;</span></span> <span class="tag">\<span class="name">newline</span></span></span><br><span class="line">&amp;&amp;= ... <span class="tag">\<span class="name">tag</span><span class="string">&#123;3&#125;</span></span><span class="tag">\<span class="name">end</span><span class="string">&#123;eqnarray*&#125;</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="向量符号加粗"><a href="#向量符号加粗" class="headerlink" title="向量符号加粗"></a>向量符号加粗</h1><p>对于一般字母<br><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">\<span class="name">mathbf</span><span class="string">&#123;u&#125;</span></span></span><br></pre></td></tr></table></figure></p>
<p>对于希腊字母<br><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">\b</span>oldsymbol&#123;<span class="symbol">\s</span>igma&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="特殊符号使用"><a href="#特殊符号使用" class="headerlink" title="特殊符号使用"></a>特殊符号使用</h1><p><a href="http://blog.163.com/goldman2000@126/blog/static/167296895201301822448724/" target="_blank" rel="noopener">LaTex常用特殊符号参考</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/set python development environment on the ubuntu16.04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/set python development environment on the ubuntu16.04/" class="post-title-link" itemprop="url">set python development environment on the ubuntu16.04</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="download-anaconda3"><a href="#download-anaconda3" class="headerlink" title="download anaconda3"></a>download anaconda3</h1><p><a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/" target="_blank" rel="noopener">download</a></p>
<h1 id="install-anaconda3"><a href="#install-anaconda3" class="headerlink" title="install anaconda3"></a>install anaconda3</h1><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cd</span> Downloads</span><br><span class="line">bash Anaconda*<span class="string">.sh</span></span><br></pre></td></tr></table></figure>
<h1 id="pip-install-更换国内镜像源"><a href="#pip-install-更换国内镜像源" class="headerlink" title="pip install 更换国内镜像源"></a>pip install 更换国内镜像源</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> -i https://pypi.tuna.tsinghua.edu.cn/simple <span class="keyword">package</span>-<span class="keyword">name</span></span><br></pre></td></tr></table></figure>
<p><a href="http://blog.csdn.net/lambert310/article/details/52412059" target="_blank" rel="noopener">更改pip源至国内镜像，显著提升下载速度</a></p>
<h1 id="永久修改镜像源"><a href="#永久修改镜像源" class="headerlink" title="永久修改镜像源"></a>永久修改镜像源</h1><p>Linux下，修改 ~/.pip/pip.conf (没有就创建一个)， 修改 index-url至tuna，内容如下：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">global</span>]</span><br><span class="line"><span class="built_in">index</span>-url = http<span class="variable">s:</span>//pypi.tuna.tsinghua.edu.<span class="keyword">cn</span>/simple</span><br></pre></td></tr></table></figure>
<h1 id="pip-下载包"><a href="#pip-下载包" class="headerlink" title="pip 下载包"></a>pip 下载包</h1><p><a href="http://www.cnblogs.com/michael-xiang/p/5690746.html" target="_blank" rel="noopener">断网环境下利用pip安装Python离线安装包</a></p>
<p>下载已经安装好的包</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="built_in">list</span> <span class="comment">#查看安装的包</span></span><br><span class="line">pip freeze &gt; requirements.txt</span><br><span class="line">pip install <span class="comment">--download d:\python27\packages -r requirements.txt</span></span><br></pre></td></tr></table></figure>
<p>下载制定的包</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip <span class="keyword">install</span> <span class="comment">--download d:\python27\packages pandas</span></span><br></pre></td></tr></table></figure>
<h1 id="离线安装打包好的包"><a href="#离线安装打包好的包" class="headerlink" title="离线安装打包好的包"></a>离线安装打包好的包</h1><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">pip </span><span class="string">install </span><span class="built_in">--no-index</span> <span class="built_in">--find-links=d:\python27\packages</span> -r <span class="string">requirements.</span><span class="string">txt</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#</span> <span class="string">install </span><span class="string">tensorflow</span></span><br></pre></td></tr></table></figure>
<h1 id="install-xgboost"><a href="#install-xgboost" class="headerlink" title="install xgboost"></a>install xgboost</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">conda <span class="keyword">install</span> libgcc</span><br><span class="line">git <span class="keyword">clone</span> <span class="comment">--recursive https://github.com/dmlc/xgboost</span></span><br><span class="line">cd xgboost; make -j4</span><br><span class="line">pip <span class="keyword">install</span> xgboost</span><br></pre></td></tr></table></figure>
<p>直接pip install xgboost就可以了，不知道缺少make是否有影响。xgbclassifier没有**kwargs参数，以前装过带这个参数的版本，不知道是版本迭代取消了kwargs参数还是什么原因？</p>
<h1 id="install-gpu-version-which-default-use-gpu-if-exists-and-keras"><a href="#install-gpu-version-which-default-use-gpu-if-exists-and-keras" class="headerlink" title="install gpu version which default use gpu if exists and keras."></a>install gpu version which default use gpu if exists and keras.</h1><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 <span class="keyword">install</span> tensorflow-gpu</span><br><span class="line">pip3 <span class="keyword">install</span> keras</span><br></pre></td></tr></table></figure>
<p>这里不要使用conda install，不然容易出现问题。</p>
<h1 id="configure-jupyter-notebook"><a href="#configure-jupyter-notebook" class="headerlink" title="configure jupyter-notebook"></a>configure jupyter-notebook</h1><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook --generate-config</span><br><span class="line">sudo vim ~/.jupyter/jupyter_notebook_config.py</span><br><span class="line"><span class="comment">//change # c.NotebookApp.notebook_dir = '' to</span></span><br><span class="line"><span class="comment">//notify remove #</span></span><br><span class="line">c<span class="selector-class">.NotebookApp</span><span class="selector-class">.notebook_dir</span> = <span class="string">'your dir_path'</span></span><br><span class="line"><span class="comment">//start jupyter</span></span><br><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure>
<h1 id="install-pypy"><a href="#install-pypy" class="headerlink" title="install pypy"></a>install pypy</h1><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo<span class="built_in"> add-apt-repository </span>ppa:pypy/ppa</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install pypy pypy-dev</span><br></pre></td></tr></table></figure>
<h1 id="install-pycharm"><a href="#install-pycharm" class="headerlink" title="install pycharm"></a>install pycharm</h1><p><a href="http://blog.csdn.net/werm520/article/details/41249113" target="_blank" rel="noopener">Ubuntu安装PyCharm</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/terminal技巧/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/terminal技巧/" class="post-title-link" itemprop="url">terminal技巧</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="打开文件"><a href="#打开文件" class="headerlink" title="打开文件"></a>打开文件</h1><p>像pdf这样无法使用vim打开的文件如何直接通过终端开启呢？</p>
<p>mac下使用命令<code>open XXX.pdf</code>，linux下使用<code>xdg-open XXX.pdf</code>，就可以使用该文件对应的默认打开方式在gui界面上开启。</p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/terminal配置/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/terminal配置/" class="post-title-link" itemprop="url">terminal配置</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ubuntu-terminator"><a href="#ubuntu-terminator" class="headerlink" title="ubuntu + terminator"></a>ubuntu + terminator</h1><table>
<thead>
<tr>
<th>operator</th>
<th>terminator</th>
<th>iterm2</th>
</tr>
</thead>
<tbody>
<tr>
<td>上下开新窗口</td>
<td>Ctrl+Shift+O</td>
<td>shift+command+D</td>
</tr>
<tr>
<td>垂直开新窗口</td>
<td>Ctrl+Shift+E</td>
<td>command+D</td>
</tr>
<tr>
<td>向右放大当前窗口</td>
<td>Ctrl+Shift+Right</td>
<td></td>
</tr>
<tr>
<td>关闭当前窗口</td>
<td>ctrl+shift+W</td>
<td>command+W</td>
</tr>
<tr>
<td>当前窗口最大化</td>
<td>ctrl+shift+X</td>
<td>shift+command+enter</td>
</tr>
<tr>
<td>全屏</td>
<td>f11</td>
<td>command+enter</td>
</tr>
<tr>
<td>切换窗口</td>
<td>alt+方向键</td>
<td>command+中括号</td>
</tr>
<tr>
<td>窗口内容上下滚动</td>
<td>shift+pgup/pgdn,如果pg键和方向键共用，需要使用fn功能键</td>
<td></td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Ctrl+Shift+O Split terminals Horizontally.（上下开新窗口） </p>
<p>Ctrl+Shift+E Split terminals Vertically.（垂直开新窗口） </p>
<p>Ctrl+Shift+Right Move parent dragbar Right.（放大当前窗口 向右） </p>
<p>Ctrl+Shift+Left Move parent dragbar Left. </p>
<p>Ctrl+Shift+Up Move parent dragbar Up. </p>
<p>Ctrl+Shift+Down Move parent dragbar Down. </p>
<p>Ctrl+Shift+S Hide/Show Scrollbar.（隐藏滚动条） </p>
<p>Ctrl+Shift+F Search within terminal scrollback </p>
<p>Ctrl+Shift+N or Ctrl+Tab Move to next terminal within the same tab</p>
<p>use Ctrl+PageDown to move to the next tab. Ifcycle_term_tab is False, cycle within the same tab will be disabled Ctrl+Shift+P or Ctrl+Shift+Tab Move to previous terminal within the same tab, use Ctrl+PageUp to move to the previous tab. Ifcycle_term_tab is False, cycle within the same tab will be disabled Alt+Up Move to the terminal above the current one.（切换当前窗口） Alt+Down Move to the terminal below the current one. Alt+Left Move to the terminal left of the current one. Alt+Right Move to the terminal right of the current one. Ctrl+Shift+C Copy selected text to clipboard Ctrl+Shift+V Paste clipboard text Ctrl+Shift+W Close the current terminal. Ctrl+Shift+Q Quits Terminator Ctrl+Shift+X （最大化当前窗口） Toggle between showing all terminals and only showing the current one (maximise). Ctrl+Shift+Z Toggle between showing all terminals and only showing a scaled version of the current one (zoom). Ctrl+Shift+T Open new tab Ctrl+Shift+Alt+T Open new tab at root level, if using extreme_tabs. Ctrl+PageDown Move to next Tab Ctrl+PageUp Move to previous Tab Ctrl+Shift+PageDown Swap tab position with next Tab Ctrl+Shift+PageUp Swap tab position with previous Tab Ctrl+Shift+F Open buffer search bar to find substrings in the scrollback buffer. Hit Escape to cancel. Ctrl+Plus (+) Increase font size. Note: this may require you to press shift, depending on your keyboard Ctrl+Minus (-) Decrease font size. Note: this may require you to press shift, depending on your keyboard Ctrl+Zero (0) Restore font size to original setting. F11 Toggle fullscreen（放大当前窗口） Ctrl+Shift+R Reset terminal state Ctrl+Shift+G Reset terminal state and clear window</p>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="http://blog.csdn.net/scholar_ii/article/details/17371265" target="_blank" rel="noopener">Ubuntu terminator 多窗口终端的快捷键(转)</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/typora/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/typora/" class="post-title-link" itemprop="url">typora</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>typora是一款markdown编辑器，可以很好的兼容latex，书写内容可以直接以预览形式出现，支持转pdf，代码块支持各种语言形式和高亮, 非常好用。</p>
<p>在ubuntu上使用时，会出现切换源码快捷键ctrl+/无效。可能是被输入法占用为全选快捷键。可以通过更改配置文件的方式更改快捷键设置。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">atl+f -&gt; preferences -&gt; openadvanced<span class="built_in"> settings </span>-&gt; conf.user.json -&gt; 在keyBinding中加入<span class="string">"Source Code Mode"</span>: <span class="string">"Ctrl+Shift+M"</span> -&gt; restart typora</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/ubuntu install nodejs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/ubuntu install nodejs/" class="post-title-link" itemprop="url">ubuntu install nodejs</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>我在电脑上安装使用hexo，以及vscode安装使用leetcode插件时均出现问题，因为nodejs版本过低。因此进行了nodejs重装。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 检查是否电脑上已经安装以及版本号</span></span><br><span class="line">node -v</span><br><span class="line"><span class="meta">#</span><span class="bash"> 移除旧版本</span></span><br><span class="line">sudo apt-get purge --auto-remove nodejs</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装，根据需要选择版本</span></span><br><span class="line">curl -sL https://deb.nodesource.com/setup_11.x | sudo bash -</span><br><span class="line">sudo apt-get install -y nodejs</span><br><span class="line"><span class="meta">#</span><span class="bash"> 检查安装</span></span><br><span class="line">node -v</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.muzhen.tk/2019/02/28/development/environment/ubuntu install scala and spark/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="muzhen">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="the Home of MuZhen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                
                <a href="/2019/02/28/development/environment/ubuntu install scala and spark/" class="post-title-link" itemprop="url">ubuntu install scala and spark</a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2019-02-28 20:45:06" itemprop="dateCreated datePublished" datetime="2019-02-28T20:45:06+08:00">2019-02-28</time>
            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/environment/" itemprop="url" rel="index"><span itemprop="name">environment</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="install-java"><a href="#install-java" class="headerlink" title="install java"></a>install java</h1><p>先检查是否已经安装java<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure></p>
<p>如果没有，按照如下步骤安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo add-apt-repository ppa:webupd8team/java</span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install oracle-java8-installer</span><br><span class="line"><span class="meta">#</span><span class="bash"> check the java version</span></span><br><span class="line">javac -version</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">set</span> java environment variables</span></span><br><span class="line">sudo apt install oracle-java8-set-default</span><br></pre></td></tr></table></figure>
<h1 id="install-scala"><a href="#install-scala" class="headerlink" title="install scala"></a>install scala</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install scala</span><br></pre></td></tr></table></figure>
<p>直接这样安装可能scala版本较低，可以<a href="https://www.scala-lang.org/download/" target="_blank" rel="noopener">官网</a>下载deb包然后<code>sudo dpkg -i *.deb</code>安装。</p>
<h1 id="install-spark"><a href="#install-spark" class="headerlink" title="install spark"></a>install spark</h1><p>去<a href="https://spark.apache.org/downloads.html" target="_blank" rel="noopener">官网</a>下载spark，注意选择清华源（mirrors.tuna.tsinghua.edu.cn）。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar xvf spark-2.0.2-bin-hadoop2.7.tgz</span><br><span class="line">cd spark-2.0.2-bin-hadoop2.7/bin</span><br><span class="line">./spark-shell</span><br></pre></td></tr></table></figure>
<h1 id="references"><a href="#references" class="headerlink" title="references"></a>references</h1><p><a href="https://medium.com/@josemarcialportilla/installing-scala-and-spark-on-ubuntu-5665ee4b62b1" target="_blank" rel="noopener">Installing Scala and Spark on Ubuntu</a></p>

          
        
      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">muzhen</p>
              <div class="site-description motion-element" itemprop="description"></div>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">358</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">38</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">113</span>
                    <span class="site-state-item-name">tags</span>
                  
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">muzhen</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.0.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.1"></script>

  <script src="/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/js/src/schemes/muse.js?v=7.0.1"></script>



  

  


  <script src="/js/src/next-boot.js?v=7.0.1"></script>


  
  



  




  

  

  
  

  
  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  


  

  

  

  

  

  

  

  

  

  

</body>
</html>
